"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9254],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return b}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),s=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=s(e.components);return r.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,u=d(e,["components","mdxType","originalType","parentName"]),c=s(n),b=a,m=c["".concat(l,".").concat(b)]||c[b]||p[b]||i;return n?r.createElement(m,o(o({ref:t},u),{},{components:n})):r.createElement(m,o({ref:t},u))}));function b(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=c;var d={};for(var l in t)hasOwnProperty.call(t,l)&&(d[l]=t[l]);d.originalType=e,d.mdxType="string"==typeof e?e:a,o[1]=d;for(var s=2;s<i;s++)o[s]=n[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},4061:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return l},default:function(){return b},frontMatter:function(){return d},metadata:function(){return s},toc:function(){return p}});var r=n(3117),a=n(102),i=(n(7294),n(3905)),o=["components"],d={id:"bundle-size",title:"Bundle Size",sidebar_label:"Bundle Size",slug:"/getting-started/bundle-size"},l=void 0,s={unversionedId:"getting-started/bundle-size",id:"getting-started/bundle-size",title:"Bundle Size",description:"Below is the app size increase to be expected when adding React Native Skia to your project.",source:"@site/docs/getting-started/bundle-size.md",sourceDirName:"getting-started",slug:"/getting-started/bundle-size",permalink:"/react-native-skia/docs/getting-started/bundle-size",draft:!1,editUrl:"https://github.com/shopify/react-native-skia/edit/main/docs/docs/getting-started/bundle-size.md",tags:[],version:"current",frontMatter:{id:"bundle-size",title:"Bundle Size",sidebar_label:"Bundle Size",slug:"/getting-started/bundle-size"},sidebar:"tutorialSidebar",previous:{title:"Web",permalink:"/react-native-skia/docs/getting-started/web"},next:{title:"Overview",permalink:"/react-native-skia/docs/canvas/overview"}},u={},p=[{value:"Android",id:"android",level:2},{value:"iOS",id:"ios",level:3},{value:"NPM Package",id:"npm-package",level:3}],c={toc:p};function b(e){var t=e.components,n=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Below is the app size increase to be expected when adding React Native Skia to your project."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"iOS"),(0,i.kt)("th",{parentName:"tr",align:null},"Android"),(0,i.kt)("th",{parentName:"tr",align:null},"Web"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"6 MB"),(0,i.kt)("td",{parentName:"tr",align:null},"4 MB"),(0,i.kt)("td",{parentName:"tr",align:null},"7,2 MB")))),(0,i.kt)("p",null,"React Native Skia includes both prebuilt library files and C++ files that are compiled and linked with your app when being built - adding to the size of your app."),(0,i.kt)("p",null,"For a regular arm 64-bit ",(0,i.kt)("strong",{parentName:"p"},"Android")," device, the increased download size will be around ",(0,i.kt)("strong",{parentName:"p"},"4 MB")," added after adding React Native Skia - on ",(0,i.kt)("strong",{parentName:"p"},"iOS"),", the increased download size will be around ",(0,i.kt)("strong",{parentName:"p"},"6 MB"),"."),(0,i.kt)("p",null,"On ",(0,i.kt)("strong",{parentName:"p"},"Web"),", the increase will be around ",(0,i.kt)("strong",{parentName:"p"},"7,2 MB"),", which can be reduced by distributing the included CanvasKit Web Assembly file through a CDN (",(0,i.kt)("a",{parentName:"p",href:"web"},"learn more"),")."),(0,i.kt)("p",null,"Below is an explanation of how these numbers were found - using a bare-bones React Native app created with ",(0,i.kt)("inlineCode",{parentName:"p"},"npx react-native init")," before and after adding React Native Skia."),(0,i.kt)("h2",{id:"android"},"Android"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"On ",(0,i.kt)("em",{parentName:"em"},"Android")," you should use ",(0,i.kt)("a",{parentName:"em",href:"https://developer.android.com/guide/app-bundle"},"App Bundles")," to ensure that only the required files are downloaded to your user\u2019s devices.")),(0,i.kt)("p",null,"When building an APK in release mode, you will see an increase of 41.3 MB after adding React Native Skia.\nThis is because the library is built for different target architectures.\nIf we take ",(0,i.kt)("inlineCode",{parentName:"p"},"arm-64-bit")," for instance, the ",(0,i.kt)("inlineCode",{parentName:"p"},"libreactskia.so")," library file is only around 3,8 MB."),(0,i.kt)("p",null,"This implies that if you distribute your apps using ",(0,i.kt)("a",{parentName:"p",href:"https://developer.android.com/guide/app-bundle"},"App Bundles"),", the increase in download size should be around 4 MB on Android devices when distributed (including an increase of 220 KB to the Javascript Bundle)."),(0,i.kt)("h3",{id:"ios"},"iOS"),(0,i.kt)("p",null,'Unlike Android, there is no standard way to find the app size increase on iOS - but by archiving and distributing our build using the Ad-Hoc distribution method, we\'ll find some numbers in the report "App Thinning Size.txt":'),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Base app:")," 2,6 MB compressed, 7,2 MB uncompressed",(0,i.kt)("br",null),"\n",(0,i.kt)("strong",{parentName:"p"},"With React Native Skia:")," 5,2 MB compressed, 13 MB uncompressed"),(0,i.kt)("p",null,"Meaning that we\u2019ve increased the size of our app by around 5,8 MB after adding React Native Skia. If we add the increased Javascript bundle of about 220 KB, we end up with about 6 MB of increased download size after including React Native Skia."),(0,i.kt)("h3",{id:"npm-package"},"NPM Package"),(0,i.kt)("p",null,"The NPM download is much bigger than these numbers indicate because we need to distribute Skia for all target platforms.\nOn iOS, it is also required to distribute the bitcode (intermediate representation of a compiled program that can be used to recompile the program). This requirement will be removed in the future."))}b.isMDXComponent=!0}}]);