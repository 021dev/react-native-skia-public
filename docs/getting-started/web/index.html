<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-getting-started/web">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="search" type="application/opensearchdescription+xml" title="React Native Skia" href="/react-native-skia/opensearch.xml"><title data-rh="true">Web Support | React Native Skia</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://shopify.github.io//react-native-skia/docs/getting-started/web"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Web Support | React Native Skia"><meta data-rh="true" name="description" content="React Native Skia runs in a web browser thanks to CanvasKit, a WebAssembly build of Skia."><meta data-rh="true" property="og:description" content="React Native Skia runs in a web browser thanks to CanvasKit, a WebAssembly build of Skia."><link data-rh="true" rel="icon" href="/react-native-skia/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://shopify.github.io//react-native-skia/docs/getting-started/web"><link data-rh="true" rel="alternate" href="https://shopify.github.io//react-native-skia/docs/getting-started/web" hreflang="en"><link data-rh="true" rel="alternate" href="https://shopify.github.io//react-native-skia/docs/getting-started/web" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://LFNAM0RNW3-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/react-native-skia/assets/css/styles.a76718fc.css">
<link rel="preload" href="/react-native-skia/assets/js/runtime~main.80b0044d.js" as="script">
<link rel="preload" href="/react-native-skia/assets/js/main.4029b46b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/react-native-skia/"><div class="navbar__logo"><img src="/react-native-skia/img/logo.png" alt="React Native Skia" class="themedImage_ToTc themedImage--light_HNdA"><img src="/react-native-skia/img/logo.png" alt="React Native Skia" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">React Native Skia</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/react-native-skia/docs/getting-started/installation">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/shopify/react-native-skia" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/react-native-skia/docs/getting-started/installation">Getting started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-skia/docs/getting-started/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/react-native-skia/docs/getting-started/hello-world">Hello World</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/react-native-skia/docs/getting-started/web">Web</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/react-native-skia/docs/canvas/overview">Canvas</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/react-native-skia/docs/paint/overview">Painting</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-native-skia/docs/group">Group</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/react-native-skia/docs/shapes/path">Shapes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/react-native-skia/docs/images">Image</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/react-native-skia/docs/text/text">Text</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/react-native-skia/docs/shaders/overview">Shaders</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/react-native-skia/docs/image-filters/overview">Image Filters</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-native-skia/docs/backdrops-filters">Backdrop Filters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-native-skia/docs/mask-filters">Mask Filters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-native-skia/docs/color-filters">Color Filters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-native-skia/docs/mask">Mask</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/react-native-skia/docs/path-effects">Path Effects</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/react-native-skia/docs/animations/values">Animations</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/react-native-skia/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Getting started</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Web</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Web Support</h1></header><p>React Native Skia runs in a web browser thanks to <a href="https://skia.org/docs/user/modules/canvaskit/" target="_blank" rel="noopener noreferrer">CanvasKit</a>, a WebAssembly build of Skia.
The WebAssembly file is loaded asynchronously and has a size of 7.9MB.
While this is a substantial file size, you have control over the user experience: you can decide when to load Skia and how the loading experience should be.</p><p>We provide direct integrations with <a href="#Expo">Expo</a> and <a href="#Remotion">Remotion</a>.
Below you will also find the manual installation steps to run the module on any React Native Web projects.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="expo">Expo<a class="hash-link" href="#expo" title="Direct link to heading">​</a></h2><p>Using React Native Skia on Expo web is reasonably straightforward.
We provide a script that will work well with the setup:</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="language-id">bash</div><div class="code-container"><code><div class="line"><span style="color:#24292EFF">$ expo install @shopify/react-native-skia</span></div><div class="line"><span style="color:#24292EFF">$ yarn setup-skia-web</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="language-id">bash</div><div class="code-container"><code><div class="line"><span style="color:#D8DEE9FF">$ expo install @shopify/react-native-skia</span></div><div class="line"><span style="color:#D8DEE9FF">$ yarn setup-skia-web</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Once you are done, you need to pick your strategy to <a href="#loading-skia">Load Skia</a>.</p><p>If you are <a href="#using-a-cdn">loading CanvasKit from a CDN</a>, you don&#x27;t need to run the <code>setup-skia-web</code> script. If you are not using <code>react-native-reanimated</code>, webpack will output a warning because React Native Skia refers to Reanimated. We describe how to fix this warning <a href="#manual-webpack-installation">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="snack">Snack<a class="hash-link" href="#snack" title="Direct link to heading">​</a></h3><p>To use React Native Skia on <a href="https://snack.expo.dev/" target="_blank" rel="noopener noreferrer">snack</a>, you will need to use <a href="#using-code-splitting">code-splitting</a> method.</p><div data-snack-id="@wcandillon/hello-snack" data-snack-platform="web" data-snack-preview="true" data-snack-theme="light" style="overflow:hidden;background:#f9f9f9;border:1px solid var(--color-border);border-radius:4px;height:505px;width:100%"></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="remotion">Remotion<a class="hash-link" href="#remotion" title="Direct link to heading">​</a></h2><p>To use React Native Skia with Remotion, please follow <a href="https://remotion.dev/skia" target="_blank" rel="noopener noreferrer">the following installation steps</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="manual-webpack-installation">Manual Webpack Installation<a class="hash-link" href="#manual-webpack-installation" title="Direct link to heading">​</a></h2><p>To run React Native Skia on Web, you need to do three things:</p><ul><li>Make sure that the WebAssembly file is available from the build system. This can easily be done using the <a href="https://webpack.js.org/plugins/copy-webpack-plugin/" target="_blank" rel="noopener noreferrer">webpack copy plugin</a>. Another option is to <a href="#using-a-cdn">load CanvasKit from a CDN</a>.</li><li>Configure the build system to resolve the following two node modules: <code>fs</code> and <code>path</code>. One way to do it is to use the <a href="https://www.npmjs.com/package/node-polyfill-webpack-plugin" target="_blank" rel="noopener noreferrer">node polyfill plugin</a>.</li><li>If you are not using the <code>react-native-reanimated</code>, Webpack will throw a warning since React Native Skia refers to that module.</li></ul><p>So following is an example of a Webpack v5 configuration that supports React Native Skia.
These three steps can easily be adapted to your build system.</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#D32F2F">import</span><span style="color:#24292EFF"> CopyPlugin </span><span style="color:#D32F2F">from</span><span style="color:#24292EFF"> </span><span style="color:#22863A">&quot;copy-webpack-plugin&quot;</span><span style="color:#24292EFF">;</span></div><div class="line"><span style="color:#D32F2F">import</span><span style="color:#24292EFF"> NodePolyfillPlugin </span><span style="color:#D32F2F">from</span><span style="color:#24292EFF"> </span><span style="color:#22863A">&quot;node-polyfill-webpack-plugin&quot;</span><span style="color:#24292EFF">;</span></div><div class="line"></div><div class="line"><span style="color:#D32F2F">const</span><span style="color:#24292EFF"> </span><span style="color:#1976D2">newConfiguration</span><span style="color:#24292EFF"> </span><span style="color:#D32F2F">=</span><span style="color:#24292EFF"> {</span></div><div class="line"><span style="color:#24292EFF">  </span><span style="color:#D32F2F">...</span><span style="color:#24292EFF">currentConfiguration</span><span style="color:#212121">,</span></div><div class="line"><span style="color:#24292EFF">  plugins</span><span style="color:#D32F2F">:</span><span style="color:#24292EFF"> [</span></div><div class="line"><span style="color:#24292EFF">    </span><span style="color:#D32F2F">...</span><span style="color:#1976D2">currentConfiguration</span><span style="color:#24292EFF">.plugins</span><span style="color:#212121">,</span></div><div class="line"><span style="color:#24292EFF">    </span><span style="color:#C2C3C5">// 1. Make the wasm file available to the build system</span></div><div class="line"><span style="color:#24292EFF">    </span><span style="color:#D32F2F">new</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">CopyPlugin</span><span style="color:#24292EFF">({</span></div><div class="line"><span style="color:#24292EFF">      patterns</span><span style="color:#D32F2F">:</span><span style="color:#24292EFF"> [</span></div><div class="line"><span style="color:#24292EFF">        {</span></div><div class="line"><span style="color:#24292EFF">          from</span><span style="color:#D32F2F">:</span><span style="color:#24292EFF"> </span><span style="color:#22863A">&quot;node_modules/canvaskit-wasm/bin/full/canvaskit.wasm&quot;</span><span style="color:#212121">,</span></div><div class="line"><span style="color:#24292EFF">        }</span><span style="color:#212121">,</span></div><div class="line"><span style="color:#24292EFF">      ]</span><span style="color:#212121">,</span></div><div class="line"><span style="color:#24292EFF">    })</span><span style="color:#212121">,</span></div><div class="line"><span style="color:#24292EFF">    </span><span style="color:#C2C3C5">// 2. Polyfill fs and path module from node</span></div><div class="line"><span style="color:#24292EFF">    </span><span style="color:#D32F2F">new</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">NodePolyfillPlugin</span><span style="color:#24292EFF">()</span></div><div class="line"><span style="color:#24292EFF">  ]</span><span style="color:#212121">,</span></div><div class="line"><span style="color:#24292EFF">  externals</span><span style="color:#D32F2F">:</span><span style="color:#24292EFF"> {</span></div><div class="line"><span style="color:#24292EFF">    </span><span style="color:#D32F2F">...</span><span style="color:#1976D2">currentConfiguration</span><span style="color:#24292EFF">.externals</span><span style="color:#212121">,</span></div><div class="line"><span style="color:#24292EFF">    </span><span style="color:#C2C3C5">// 3. Avoid warning if reanimated is not present</span></div><div class="line"><span style="color:#24292EFF">    </span><span style="color:#22863A">&quot;react-native-reanimated&quot;</span><span style="color:#D32F2F">:</span><span style="color:#24292EFF"> </span><span style="color:#22863A">&quot;require(&#x27;react-native-reanimated&#x27;)&quot;</span><span style="color:#212121">,</span></div><div class="line"><span style="color:#24292EFF">    </span><span style="color:#22863A">&quot;react-native-reanimated/lib/reanimated2/core&quot;</span><span style="color:#D32F2F">:</span></div><div class="line"><span style="color:#24292EFF">      </span><span style="color:#22863A">&quot;require(&#x27;react-native-reanimated/lib/reanimated2/core&#x27;)&quot;</span><span style="color:#212121">,</span></div><div class="line"><span style="color:#24292EFF">  }</span><span style="color:#212121">,</span></div><div class="line"><span style="color:#24292EFF">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">CopyPlugin</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">copy-webpack-plugin</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">;</span></div><div class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">NodePolyfillPlugin</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">node-polyfill-webpack-plugin</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">;</span></div><div class="line"></div><div class="line"><span style="color:#81A1C1">const</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">newConfiguration</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">...</span><span style="color:#D8DEE9">currentConfiguration</span><span style="color:#ECEFF4">,</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">plugins</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span></div><div class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">...</span><span style="color:#D8DEE9">currentConfiguration</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">plugins</span><span style="color:#ECEFF4">,</span></div><div class="line"><span style="color:#ECEFF4">    </span><span style="color:#616E88">// 1. Make the wasm file available to the build system</span></div><div class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">new</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">CopyPlugin</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">{</span></div><div class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#D8DEE9">patterns</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span></div><div class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#ECEFF4">{</span></div><div class="line"><span style="color:#D8DEE9FF">          </span><span style="color:#D8DEE9">from</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">node_modules/canvaskit-wasm/bin/full/canvaskit.wasm</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">,</span></div><div class="line"><span style="color:#D8DEE9FF">        </span><span style="color:#ECEFF4">},</span></div><div class="line"><span style="color:#D8DEE9FF">      ]</span><span style="color:#ECEFF4">,</span></div><div class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span><span style="color:#ECEFF4">,</span></div><div class="line"><span style="color:#ECEFF4">    </span><span style="color:#616E88">// 2. Polyfill fs and path module from node</span></div><div class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">new</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">NodePolyfillPlugin</span><span style="color:#D8DEE9FF">()</span></div><div class="line"><span style="color:#D8DEE9FF">  ]</span><span style="color:#ECEFF4">,</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">externals</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></div><div class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">...</span><span style="color:#D8DEE9">currentConfiguration</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">externals</span><span style="color:#ECEFF4">,</span></div><div class="line"><span style="color:#ECEFF4">    </span><span style="color:#616E88">// 3. Avoid warning if reanimated is not present</span></div><div class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">react-native-reanimated</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">require(&#x27;react-native-reanimated&#x27;)</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">,</span></div><div class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">react-native-reanimated/lib/reanimated2/core</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">:</span></div><div class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">require(&#x27;react-native-reanimated/lib/reanimated2/core&#x27;)</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">,</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#ECEFF4">},</span></div><div class="line"><span style="color:#ECEFF4">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Last, you need to <a href="#loading-skia">load Skia</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="loading-skia">Loading Skia<a class="hash-link" href="#loading-skia" title="Direct link to heading">​</a></h2><p>You need to have Skia fully loaded and initialized before importing the Skia module.
There are two ways you can control the way Skia should load:</p><ul><li>With <code>&lt;WithSkiaWeb /&gt;</code>: using code-splitting to defer loading the components that import Skia.</li><li>With <code>LoadSkiaWeb()</code>: deferring the root component registration until Skia is loaded.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-code-splitting">Using Code-Splitting<a class="hash-link" href="#using-code-splitting" title="Direct link to heading">​</a></h3><p>We provide a <code>&lt;WithSkiaWeb&gt;</code> component which leverages <a href="https://reactjs.org/docs/code-splitting.html" target="_blank" rel="noopener noreferrer">code splitting</a>. In the example below, we load Skia before loading the <code>MySkiaComponent</code> component. </p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#D32F2F">import</span><span style="color:#24292EFF"> React </span><span style="color:#D32F2F">from</span><span style="color:#24292EFF"> </span><span style="color:#22863A">&#x27;react&#x27;</span><span style="color:#24292EFF">;</span></div><div class="line"><span style="color:#D32F2F">import</span><span style="color:#24292EFF"> { Text } </span><span style="color:#D32F2F">from</span><span style="color:#24292EFF"> </span><span style="color:#22863A">&quot;react-native&quot;</span><span style="color:#24292EFF">;</span></div><div class="line"><span style="color:#C2C3C5">// Notice the import path `@shopify/react-native-skia/lib/module/web`</span></div><div class="line"><span style="color:#C2C3C5">// This is important only to pull the code responsible for loading Skia.</span></div><div class="line"><span style="color:#C2C3C5">// @ts-expect-error</span></div><div class="line"><span style="color:#D32F2F">import</span><span style="color:#24292EFF"> { WithSkiaWeb } </span><span style="color:#D32F2F">from</span><span style="color:#24292EFF"> </span><span style="color:#22863A">&quot;@shopify/react-native-skia/lib/module/web&quot;</span><span style="color:#24292EFF">;</span></div><div class="line"></div><div class="line"><span style="color:#D32F2F">export</span><span style="color:#24292EFF"> </span><span style="color:#D32F2F">default</span><span style="color:#24292EFF"> </span><span style="color:#D32F2F">function</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">App</span><span style="color:#24292EFF">() {</span></div><div class="line"><span style="color:#24292EFF">  </span><span style="color:#D32F2F">return</span><span style="color:#24292EFF"> (</span></div><div class="line"><span style="color:#24292EFF">    &lt;</span><span style="color:#1976D2">WithSkiaWeb</span></div><div class="line"><span style="color:#24292EFF">      </span><span style="color:#6F42C1">getComponent</span><span style="color:#D32F2F">=</span><span style="color:#24292EFF">{() </span><span style="color:#D32F2F">=&gt;</span><span style="color:#24292EFF"> </span><span style="color:#D32F2F">import</span><span style="color:#24292EFF">(</span><span style="color:#22863A">&quot;./MySkiaComponent&quot;</span><span style="color:#24292EFF">)}</span></div><div class="line"><span style="color:#24292EFF">      </span><span style="color:#6F42C1">fallback</span><span style="color:#D32F2F">=</span><span style="color:#24292EFF">{&lt;</span><span style="color:#1976D2">Text</span><span style="color:#24292EFF">&gt;Loading Skia...&lt;/</span><span style="color:#1976D2">Text</span><span style="color:#24292EFF">&gt;} /&gt;}</span></div><div class="line"><span style="color:#24292EFF">  );</span></div><div class="line"><span style="color:#24292EFF">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">React</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">react</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#81A1C1">;</span></div><div class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">Text</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">react-native</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">;</span></div><div class="line"><span style="color:#616E88">// Notice the import path `@shopify/react-native-skia/lib/module/web`</span></div><div class="line"><span style="color:#616E88">// This is important only to pull the code responsible for loading Skia.</span></div><div class="line"><span style="color:#616E88">// @ts-expect-error</span></div><div class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">WithSkiaWeb</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">@shopify/react-native-skia/lib/module/web</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">;</span></div><div class="line"></div><div class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">function</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">App</span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">return</span><span style="color:#D8DEE9FF"> (</span></div><div class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">&lt;</span><span style="color:#8FBCBB">WithSkiaWeb</span></div><div class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#8FBCBB">getComponent</span><span style="color:#81A1C1">={</span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">./MySkiaComponent</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">}</span></div><div class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#8FBCBB">fallback</span><span style="color:#81A1C1">={&lt;</span><span style="color:#8FBCBB">Text</span><span style="color:#81A1C1">&gt;</span><span style="color:#D8DEE9FF">Loading Skia...</span><span style="color:#81A1C1">&lt;/</span><span style="color:#8FBCBB">Text</span><span style="color:#81A1C1">&gt;}</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">/&gt;</span><span style="color:#D8DEE9FF">}</span></div><div class="line"><span style="color:#D8DEE9FF">  )</span><span style="color:#81A1C1">;</span></div><div class="line"><span style="color:#ECEFF4">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-defered-component-registration">Using Defered Component Registration<a class="hash-link" href="#using-defered-component-registration" title="Direct link to heading">​</a></h3><p>We provide a <code>LoadSkiaWeb()</code> function you can use to load Skia before starting the React app.
This is the approach we use for Remotion, for instance.
The following is an example of an <code>index.web.js</code> file.</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#C2C3C5">// Notice the import path `@shopify/react-native-skia/lib/module/web`</span></div><div class="line"><span style="color:#C2C3C5">// This is important only to pull the code responsible for loading Skia.</span></div><div class="line"><span style="color:#C2C3C5">// @ts-expect-error</span></div><div class="line"><span style="color:#D32F2F">import</span><span style="color:#24292EFF"> { LoadSkiaWeb } </span><span style="color:#D32F2F">from</span><span style="color:#24292EFF"> </span><span style="color:#22863A">&quot;@shopify/react-native-skia/lib/module/web&quot;</span><span style="color:#24292EFF">;</span></div><div class="line"></div><div class="line"><span style="color:#6F42C1">LoadSkiaWeb</span><span style="color:#24292EFF">()</span><span style="color:#6F42C1">.then</span><span style="color:#24292EFF">(</span><span style="color:#D32F2F">async</span><span style="color:#24292EFF"> () </span><span style="color:#D32F2F">=&gt;</span><span style="color:#24292EFF"> {</span></div><div class="line"><span style="color:#24292EFF">  </span><span style="color:#D32F2F">const</span><span style="color:#24292EFF"> </span><span style="color:#1976D2">App</span><span style="color:#24292EFF"> </span><span style="color:#D32F2F">=</span><span style="color:#24292EFF"> (</span><span style="color:#D32F2F">await</span><span style="color:#24292EFF"> </span><span style="color:#D32F2F">import</span><span style="color:#24292EFF">(</span><span style="color:#22863A">&quot;./src/App&quot;</span><span style="color:#24292EFF">)).default;</span></div><div class="line"><span style="color:#24292EFF">  </span><span style="color:#1976D2">AppRegistry</span><span style="color:#6F42C1">.registerComponent</span><span style="color:#24292EFF">(</span><span style="color:#22863A">&quot;Example&quot;</span><span style="color:#212121">,</span><span style="color:#24292EFF"> () </span><span style="color:#D32F2F">=&gt;</span><span style="color:#24292EFF"> App);</span></div><div class="line"><span style="color:#24292EFF">});</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#616E88">// Notice the import path `@shopify/react-native-skia/lib/module/web`</span></div><div class="line"><span style="color:#616E88">// This is important only to pull the code responsible for loading Skia.</span></div><div class="line"><span style="color:#616E88">// @ts-expect-error</span></div><div class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">LoadSkiaWeb</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">@shopify/react-native-skia/lib/module/web</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">;</span></div><div class="line"></div><div class="line"><span style="color:#88C0D0">LoadSkiaWeb</span><span style="color:#D8DEE9FF">()</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">then</span><span style="color:#D8DEE9FF">(</span><span style="color:#81A1C1">async</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">const</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">App</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> (</span><span style="color:#81A1C1">await</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">./src/App</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9FF">))</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">default</span><span style="color:#81A1C1">;</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">AppRegistry</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">registerComponent</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">Example</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">App</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></div><div class="line"><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-a-cdn">Using a CDN<a class="hash-link" href="#using-a-cdn" title="Direct link to heading">​</a></h2><p>Another option is to load CanvasKit from a CDN.
This is useful to load Skia Web without having to modify your build steps.
It is imperative that you are using the exact same version of CanvasKit as the one used by React Native Skia.</p><p>In the example below we load CanvasKit from a CDN using code-splitting.</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#D32F2F">import</span><span style="color:#24292EFF"> { WithSkiaWeb } </span><span style="color:#D32F2F">from</span><span style="color:#24292EFF"> </span><span style="color:#22863A">&quot;@shopify/react-native-skia/lib/module/web&quot;</span><span style="color:#24292EFF">;</span></div><div class="line"><span style="color:#D32F2F">import</span><span style="color:#24292EFF"> { version } </span><span style="color:#D32F2F">from</span><span style="color:#24292EFF"> </span><span style="color:#22863A">&#x27;canvaskit-wasm/package.json&#x27;</span><span style="color:#24292EFF">;</span></div><div class="line"></div><div class="line"><span style="color:#D32F2F">export</span><span style="color:#24292EFF"> </span><span style="color:#D32F2F">default</span><span style="color:#24292EFF"> </span><span style="color:#D32F2F">function</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">App</span><span style="color:#24292EFF">() {</span></div><div class="line"><span style="color:#24292EFF">  </span><span style="color:#D32F2F">return</span><span style="color:#24292EFF"> (</span></div><div class="line"><span style="color:#24292EFF">    &lt;</span><span style="color:#1976D2">WithSkiaWeb</span></div><div class="line"><span style="color:#24292EFF">      </span><span style="color:#6F42C1">opts</span><span style="color:#D32F2F">=</span><span style="color:#24292EFF">{{ </span><span style="color:#6F42C1">locateFile</span><span style="color:#D32F2F">:</span><span style="color:#24292EFF"> (file) </span><span style="color:#D32F2F">=&gt;</span><span style="color:#24292EFF"> </span><span style="color:#22863A">`https://cdn.jsdelivr.net/npm/canvaskit-wasm@</span><span style="color:#D32F2F">${</span><span style="color:#24292EFF">version</span><span style="color:#D32F2F">}</span><span style="color:#22863A">/bin/full/</span><span style="color:#D32F2F">${</span><span style="color:#24292EFF">file</span><span style="color:#D32F2F">}</span><span style="color:#22863A">`</span><span style="color:#24292EFF"> }}</span></div><div class="line"><span style="color:#24292EFF">      </span><span style="color:#6F42C1">getComponent</span><span style="color:#D32F2F">=</span><span style="color:#24292EFF">{() </span><span style="color:#D32F2F">=&gt;</span><span style="color:#24292EFF"> </span><span style="color:#D32F2F">import</span><span style="color:#24292EFF">(</span><span style="color:#22863A">&quot;./MySkiaComponent&quot;</span><span style="color:#24292EFF">)}</span></div><div class="line"><span style="color:#24292EFF">  );</span></div><div class="line"><span style="color:#24292EFF">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">WithSkiaWeb</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">@shopify/react-native-skia/lib/module/web</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">;</span></div><div class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">version</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">canvaskit-wasm/package.json</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#81A1C1">;</span></div><div class="line"></div><div class="line"><span style="color:#81A1C1">export</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">default</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">function</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">App</span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#81A1C1">return</span><span style="color:#D8DEE9FF"> (</span></div><div class="line"><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">&lt;</span><span style="color:#8FBCBB">WithSkiaWeb</span></div><div class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#8FBCBB">opts</span><span style="color:#81A1C1">={</span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">locateFile</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">file</span><span style="color:#ECEFF4">)</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">`</span><span style="color:#A3BE8C">https://cdn.jsdelivr.net/npm/canvaskit-wasm@</span><span style="color:#ECEFF4">${</span><span style="color:#D8DEE9">version</span><span style="color:#ECEFF4">}</span><span style="color:#A3BE8C">/bin/full/</span><span style="color:#ECEFF4">${</span><span style="color:#D8DEE9">file</span><span style="color:#ECEFF4">}`</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#81A1C1">}</span></div><div class="line"><span style="color:#D8DEE9FF">      </span><span style="color:#8FBCBB">getComponent</span><span style="color:#81A1C1">={</span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">./MySkiaComponent</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">}</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">);</span></div><div class="line"><span style="color:#D8DEE9">}</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Below is the same example but using defered component registration.</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#D32F2F">import</span><span style="color:#24292EFF"> { LoadSkiaWeb } </span><span style="color:#D32F2F">from</span><span style="color:#24292EFF"> </span><span style="color:#22863A">&quot;@shopify/react-native-skia/lib/module/web&quot;</span><span style="color:#24292EFF">;</span></div><div class="line"><span style="color:#D32F2F">import</span><span style="color:#24292EFF"> { version } </span><span style="color:#D32F2F">from</span><span style="color:#24292EFF"> </span><span style="color:#22863A">&#x27;canvaskit-wasm/package.json&#x27;</span><span style="color:#24292EFF">;</span></div><div class="line"></div><div class="line"><span style="color:#6F42C1">LoadSkiaWeb</span><span style="color:#24292EFF">({</span></div><div class="line"><span style="color:#24292EFF"> </span><span style="color:#6F42C1">locateFile</span><span style="color:#D32F2F">:</span><span style="color:#24292EFF"> (file) </span><span style="color:#D32F2F">=&gt;</span><span style="color:#24292EFF"> </span><span style="color:#22863A">`https://cdn.jsdelivr.net/npm/canvaskit-wasm@</span><span style="color:#D32F2F">${</span><span style="color:#24292EFF">version</span><span style="color:#D32F2F">}</span><span style="color:#22863A">/bin/full/</span><span style="color:#D32F2F">${</span><span style="color:#24292EFF">file</span><span style="color:#D32F2F">}</span><span style="color:#22863A">`</span></div><div class="line"><span style="color:#24292EFF">})</span><span style="color:#6F42C1">.then</span><span style="color:#24292EFF">(</span><span style="color:#D32F2F">async</span><span style="color:#24292EFF"> () </span><span style="color:#D32F2F">=&gt;</span><span style="color:#24292EFF"> {</span></div><div class="line"><span style="color:#24292EFF"> </span><span style="color:#D32F2F">const</span><span style="color:#24292EFF"> </span><span style="color:#1976D2">App</span><span style="color:#24292EFF"> </span><span style="color:#D32F2F">=</span><span style="color:#24292EFF"> (</span><span style="color:#D32F2F">await</span><span style="color:#24292EFF"> </span><span style="color:#D32F2F">import</span><span style="color:#24292EFF">(</span><span style="color:#22863A">&quot;./src/App&quot;</span><span style="color:#24292EFF">)).default;</span></div><div class="line"><span style="color:#24292EFF"> </span><span style="color:#1976D2">AppRegistry</span><span style="color:#6F42C1">.registerComponent</span><span style="color:#24292EFF">(</span><span style="color:#22863A">&quot;Example&quot;</span><span style="color:#212121">,</span><span style="color:#24292EFF"> () </span><span style="color:#D32F2F">=&gt;</span><span style="color:#24292EFF"> App);</span></div><div class="line"><span style="color:#24292EFF">});</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">LoadSkiaWeb</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">@shopify/react-native-skia/lib/module/web</span><span style="color:#ECEFF4">&quot;</span><span style="color:#81A1C1">;</span></div><div class="line"><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">version</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">from</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">&#x27;</span><span style="color:#A3BE8C">canvaskit-wasm/package.json</span><span style="color:#ECEFF4">&#x27;</span><span style="color:#81A1C1">;</span></div><div class="line"></div><div class="line"><span style="color:#88C0D0">LoadSkiaWeb</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">{</span></div><div class="line"><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">locateFile</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">(</span><span style="color:#D8DEE9">file</span><span style="color:#ECEFF4">)</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">`</span><span style="color:#A3BE8C">https://cdn.jsdelivr.net/npm/canvaskit-wasm@</span><span style="color:#ECEFF4">${</span><span style="color:#D8DEE9">version</span><span style="color:#ECEFF4">}</span><span style="color:#A3BE8C">/bin/full/</span><span style="color:#ECEFF4">${</span><span style="color:#D8DEE9">file</span><span style="color:#ECEFF4">}`</span></div><div class="line"><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">then</span><span style="color:#D8DEE9FF">(</span><span style="color:#81A1C1">async</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">{</span></div><div class="line"><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">const</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">App</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> (</span><span style="color:#81A1C1">await</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">import</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">./src/App</span><span style="color:#ECEFF4">&quot;</span><span style="color:#D8DEE9FF">))</span><span style="color:#ECEFF4">.</span><span style="color:#D8DEE9">default</span><span style="color:#81A1C1">;</span></div><div class="line"><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">AppRegistry</span><span style="color:#ECEFF4">.</span><span style="color:#88C0D0">registerComponent</span><span style="color:#D8DEE9FF">(</span><span style="color:#ECEFF4">&quot;</span><span style="color:#A3BE8C">Example</span><span style="color:#ECEFF4">&quot;</span><span style="color:#ECEFF4">,</span><span style="color:#D8DEE9FF"> </span><span style="color:#ECEFF4">()</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=&gt;</span><span style="color:#D8DEE9FF"> </span><span style="color:#D8DEE9">App</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></div><div class="line"><span style="color:#ECEFF4">}</span><span style="color:#D8DEE9FF">)</span><span style="color:#81A1C1">;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h2 class="anchor anchorWithStickyNavbar_LWe7" id="unsupported-features">Unsupported Features<a class="hash-link" href="#unsupported-features" title="Direct link to heading">​</a></h2><p>Below are the React Native Skia APIs which are not yet supported on React Native Web.
Some of these features are a work in progress, and some others will come later.</p><p><strong>Coming soon</strong></p><ul><li><code>Font::GetPath</code></li><li><code>ShaderFilter</code></li></ul><p><strong>Unplanned</strong></p><ul><li><code>ImageSvg</code></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/shopify/react-native-skia/edit/main/docs/docs/getting-started/web.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/react-native-skia/docs/getting-started/hello-world"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Hello World</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/react-native-skia/docs/canvas/overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#expo" class="table-of-contents__link toc-highlight">Expo</a><ul><li><a href="#snack" class="table-of-contents__link toc-highlight">Snack</a></li></ul></li><li><a href="#remotion" class="table-of-contents__link toc-highlight">Remotion</a></li><li><a href="#manual-webpack-installation" class="table-of-contents__link toc-highlight">Manual Webpack Installation</a></li><li><a href="#loading-skia" class="table-of-contents__link toc-highlight">Loading Skia</a><ul><li><a href="#using-code-splitting" class="table-of-contents__link toc-highlight">Using Code-Splitting</a></li><li><a href="#using-defered-component-registration" class="table-of-contents__link toc-highlight">Using Defered Component Registration</a></li></ul></li><li><a href="#using-a-cdn" class="table-of-contents__link toc-highlight">Using a CDN</a></li><li><a href="#unsupported-features" class="table-of-contents__link toc-highlight">Unsupported Features</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/react-native-skia/docs/getting-started/installation">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/shopify/react-native-skia" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Shopify, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/react-native-skia/assets/js/runtime~main.80b0044d.js"></script>
<script src="/react-native-skia/assets/js/main.4029b46b.js"></script>
</body>
</html>